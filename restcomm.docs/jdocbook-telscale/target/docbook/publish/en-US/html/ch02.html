<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 2. Configuration</title><link rel="stylesheet" type="text/css" href="css/telestax_org.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><link rel="home" href="index.html" title="RestComm User Guide"/><link rel="up" href="index.html" title="RestComm User Guide"/><link rel="prev" href="ch01.html" title="Chapter 1. Introduction to TelScale RestComm"/><link rel="next" href="ch03.html" title="Chapter 3. RestComm Markup Language"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.telestax.com" class="site_href"><strong>TeleStax.org</strong></a><a href="http://www.telestax.com/" class="doc_href"><strong>Community Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="ch01.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch03.html"><strong>Next</strong></a></li></ul><div class="chapter" title="Chapter 2. Configuration"><div class="titlepage"><div><div><h2 class="title"><a id="d0e485"/>Chapter 2. Configuration</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ch02.html#d0e496">2.1. Runtime Settings</a></span></dt><dt><span class="section"><a href="ch02.html#d0e629">2.2. Dao Manager</a></span></dt><dt><span class="section"><a href="ch02.html#d0e702">2.3. Media Server Manager</a></span></dt><dt><span class="section"><a href="ch02.html#d0e743">2.4. SMS Aggregator</a></span></dt><dt><span class="section"><a href="ch02.html#d0e786">2.5. Fax Service</a></span></dt><dt><span class="section"><a href="ch02.html#d0e832">2.6. Speech Recognizer</a></span></dt><dt><span class="section"><a href="ch02.html#d0e863">2.7. Speech Synthesizer</a></span></dt></dl></div><p>In order for RestComm to function properly it must first be configured. In this chapter we will cover the settings
	for RestComm and it's respective plug-ins. In order to make RestComm easy to manage all of the configuration is done
	in only one file. The file is located at <code class="filename">RESTCOMM_HOME/WEB-INF/conf/restcomm.xml</code> and is composed
	of the sections that follow.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>RestComm provides a default set of plug-ins for the storage engine, fax service, SMS aggregator, automatic
		speech recognition, and speech synthesis. All these services are pluggable and RestComm is not limited to any
		service provider or software platform whom's services it consumes.</p></div><div class="section" title="2.1. Runtime Settings"><div class="titlepage"><div><div><h2 class="title"><a id="d0e496"/>2.1. Runtime Settings</h2></div></div></div><p>
		  The runtime-settings are used by RestComm at runtime to customize it's behavior. A list of the runtime settings
		  and a description is provided below.
		</p><div class="table"><a id="d0e501"/><p class="title"><strong>Table 2.1. Runtime Settings</strong></p><div class="table-contents"><table summary="Runtime Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">api-version</td><td align="left">The version of the RestComm API that we will be executing by default.</td></tr><tr><td align="left">beep-audio-file</td><td align="left">The audio file to play for the 'beep' and 'playBeep' attributes.</td></tr><tr><td align="left">reject-audio-file</td><td align="left">The audio file to play for the &lt;Reject&gt; verb using the 'rejected' attribute.</td></tr><tr><td align="left">alert-on-enter-file</td><td align="left">The audio file to play when a participant enters a conference room.</td></tr><tr><td align="left">alert-on-exit-file</td><td align="left">The audio file to play when a participant exits a conference room.</td></tr><tr><td align="left">ringback-audio-file</td><td align="left">The audio file to play when a caller is waiting for a call to be bridged using the
						&lt;Dial&gt; verb.</td></tr><tr><td align="left">conference-music-file</td><td align="left">The default audio file to play in a conference room. This is equivalent to setting
						the waitUrl attribute for the &lt;Conference&gt; noun.</td></tr><tr><td align="left">error-dictionary-uri</td><td align="left">The root URI to the error dictionary. This dictionary contains descriptions and possible
						solutions to the error codes that RestComm will return as part of it's Notifications resource.</td></tr><tr><td align="left">recordings-path</td><td align="left">
						  The path to the directory used to save recordings made by RestComm.
						</td></tr><tr><td align="left">outbound-proxy-user</td><td align="left">
						  The user name used to authenticate with the outbound proxy. (Optional)
						</td></tr><tr><td align="left">outbound-proxy-password</td><td align="left">
						  The password used to authenticated with the outbound proxy. (Optional)
						</td></tr><tr><td align="left">outbound-proxy-uri</td><td align="left">
						  The SIP URI to the outbound proxy. Note: Do not prepend 'sip:' to the proxy uri.
						  If necessary the port can be included, for example thomas@localhost:5080
						</td></tr></tbody></table></div></div><br class="table-break"/><p title="Restcomm Resource Security"><strong>Restcomm Resource Security. </strong>The security model is based on role based access control. RestComm defines a set of permissions that
			can be defined for each role. There are two predefined roles Administrator and Developer. The Developer role
			can be configured or removed all together depending on your needs but the Administrator role can not be changed.
			The Administrator role can not be modified or removed and it has access to every resource.</p><p>First we will define the list of permissions and what they mean.</p><div class="table"><a id="d0e581"/><p class="title"><strong>Table 2.2. RestComm Permissions</strong></p><div class="table-contents"><table summary="RestComm Permissions" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Permission</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Create</td><td align="left">The role has access to create a type resource.</td></tr><tr><td align="left">Read</td><td align="left">The role has access to read a type of resource.</td></tr><tr><td align="left">Modify</td><td align="left">The role has access to modify a type of resource.</td></tr><tr><td align="left">Delete</td><td align="left">The role has access to delete a type of resource.</td></tr></tbody></table></div></div><br class="table-break"/><p>These permissions apply to every resource exposed by the Restful APIs. Once a role is defined it can
		be specified for new Account resources that are created.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>If no role is specified when creating a new Account resource then the new Account will inherit
			the security role of the account that created it. If this role is the Administrator role the system
			may become compromised.</p></div><p title="Wildcard Permission"><strong>Wildcard Permission. </strong>The asterisk '*' is a wildcard that means grant all permissions and can be used in place of
			typing out all the permissions.</p><p>To see how this all comes together please check out the <code class="filename">restcomm.xml</code> configuration
		file.</p></div><div class="section" title="2.2. Dao Manager"><div class="titlepage"><div><div><h2 class="title"><a id="d0e629"/>2.2. Dao Manager</h2></div></div></div><p>The data access object manager is used to gain access to the data store that RestComm will use.</p><p>The default data access object manager is based on MyBatis and provides access to RDBM systems. Alternatively,
		  a MongoDB implementation is included.</p><div class="table"><a id="d0e636"/><p class="title"><strong>Table 2.3. MyBatis Settings</strong></p><div class="table-contents"><table summary="MyBatis Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">configuration-file</td><td align="left">The path to the mybatis.xml configuration file.</td></tr><tr><td align="left">data-files</td><td align="left">The path to the data files used to store the database tables.</td></tr><tr><td align="left">sql-files</td><td align="left">The path to the XML files containing the SQL statements that will be executed by the database.</td></tr></tbody></table></div></div><br class="table-break"/><div class="table"><a id="d0e664"/><p class="title"><strong>Table 2.4. MongoDB Settings</strong></p><div class="table-contents"><table summary="MongoDB Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">host</td><td align="left">The IP address or host name of MongoDB server.</td></tr><tr><td align="left">port</td><td align="left">The port on the MongoDB server to use.</td></tr><tr><td align="left">database</td><td align="left">The name of the database to use.</td></tr><tr><td align="left">user</td><td align="left">The user name used to authenticate with MongoDB (Optional).</td></tr><tr><td align="left">password</td><td align="left">The password used to authenticate with MongoDB (Optional).</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" title="2.3. Media Server Manager"><div class="titlepage"><div><div><h2 class="title"><a id="d0e702"/>2.3. Media Server Manager</h2></div></div></div><p>
		  The media server manager is responsible for all the media servers managed by RestComm. The media server manager
		  is also responsible for load-balancing connections to the media servers that it manages. When configuring the
		  media server manager multiple media servers can be defined. Below is a description of settings for each media server.
		</p><div class="table"><a id="d0e707"/><p class="title"><strong>Table 2.5. Media Server Manager Settings</strong></p><div class="table-contents"><table summary="Media Server Manager Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">local-address</td><td align="left">The local IP address for the MGCP stack.</td></tr><tr><td align="left">local-port</td><td align="left">The local port for the MGCP stack.</td></tr><tr><td align="left">remote-address</td><td align="left">The IP address for the media server.</td></tr><tr><td align="left">remote-port</td><td align="left">The port for the media server.</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>Currently, load-balancing uses a naive round-robin implementation but in future implementations the algorithm
			will be based on media server load.</p></div></div><div class="section" title="2.4. SMS Aggregator"><div class="titlepage"><div><div><h2 class="title"><a id="d0e743"/>2.4. SMS Aggregator</h2></div></div></div><p>The SMS aggregator is responsible for the handling of SMS messages on behalf of RestComm.</p><p title="Requirements"><strong>Requirements. </strong>The default SMS aggregator is Essendex. Therefore, an account must be created @
			<a class="ulink" href="http://www.esendex.com/">http://www.esendex.com</a> before any text
			messages can be sent.</p><p>Below is a list of settings that must be configured to send text messages.</p><div class="table"><a id="d0e758"/><p class="title"><strong>Table 2.6. SMS Aggregator Settings</strong></p><div class="table-contents"><table summary="SMS Aggregator Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">user</td><td align="left">The user name used to authenticate with Essendex.</td></tr><tr><td align="left">password</td><td align="left">The password used to authenticate with Essendex.</td></tr><tr><td align="left">account</td><td align="left">The account used to authenticate with Essendex.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" title="2.5. Fax Service"><div class="titlepage"><div><div><h2 class="title"><a id="d0e786"/>2.5. Fax Service</h2></div></div></div><p>The fax service sends faxes out on behalf of RestComm.</p><p title="Requirements"><strong>Requirements. </strong>The default fax service is provided by Interfax. Therefore, an account must be created @
			<a class="ulink" href="http://www.interfax.net/">http://www.interfax.net</a> before any faxes can be
			sent.</p><div class="table"><a id="d0e799"/><p class="title"><strong>Table 2.7. Fax Service Settings</strong></p><div class="table-contents"><table summary="Fax Service Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">user</td><td align="left">The user name used to authenticate with Interfax.</td></tr><tr><td align="left">password</td><td align="left">The password used to authenticate with Interfax.</td></tr><tr><td align="left">maximum-file-size</td><td align="left">The maximum files size allowed to be delivered via fax.</td></tr><tr><td align="left">timeout</td><td align="left">The timeout period before an undeliverable fax is considered as failed.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" title="2.6. Speech Recognizer"><div class="titlepage"><div><div><h2 class="title"><a id="d0e832"/>2.6. Speech Recognizer</h2></div></div></div><p>This speech recognizer turns speech in to text on behalf of Restcomm.</p><p title="Requirements"><strong>Requirements. </strong>The default speech recognizer uses the ASR service provided by iSpeech. Therefore, an account must be created @
			<a class="ulink" href="http://www.ispeech.org/">http://www.ispeech.org</a> before any speech can be converted to text.</p><div class="table"><a id="d0e845"/><p class="title"><strong>Table 2.8. Speech Recognizer Settings</strong></p><div class="table-contents"><table summary="Speech Recognizer Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">api-key</td><td align="left">The Web API key provide by iSpeech. This is used as an authentication token for the service.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" title="2.7. Speech Synthesizer"><div class="titlepage"><div><div><h2 class="title"><a id="d0e863"/>2.7. Speech Synthesizer</h2></div></div></div><p>The speech synthesizer turns text to speech on behalf of RestComm.</p><p title="Requirements"><strong>Requirements. </strong>The default speech synthesizer uses the TTS service provided by Acapela. Therefore, an account must be created @
			<a class="ulink" href="http://www.acapela-vaas.com/">http://www.acapela-vaas.com</a> before any text can be converted to
			speech.</p><div class="table"><a id="d0e876"/><p class="title"><strong>Table 2.9. Acapela Group Speech Synthesizer Settings</strong></p><div class="table-contents"><table summary="Acapela Group Speech Synthesizer Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">cache-path</td><td align="left">The location on the file system to use for caching TTS results.</td></tr><tr><td align="left">service-root</td><td align="left">The acapela group service root URI.</td></tr><tr><td align="left">application</td><td align="left">The application used to authenticate with the acapela group.</td></tr><tr><td align="left">login</td><td align="left">The login used to authenticate with the acapela group.</td></tr><tr><td align="left">password</td><td align="left">The password used to authenticate with the acapela group.</td></tr><tr><td align="left">speakers</td><td align="left">
						  A list of male and female speakers for different languages. These can be replaced
						  with other alternatives provided by the acapela group.
						</td></tr></tbody></table></div></div><br class="table-break"/></div></div><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="ch01.html"><strong>Prev</strong>Chapter 1. Introduction to TelScale RestComm</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch03.html"><strong>Next</strong>Chapter 3. RestComm Markup Language</a></li></ul></body></html>