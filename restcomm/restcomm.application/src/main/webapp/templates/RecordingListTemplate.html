<!--
 Telestax, Open Source Cloud Communications
 Copyright 2013, Telestax, Inc. and individual contributors
 by the @authors tag. See the copyright.txt in the distribution for a
 full listing of individual contributors.
 
 This is free software; you can redistribute it and/or modify it
 under the terms of the GNU Lesser General Public License as
 published by the Free Software Foundation; either version 2.1 of
 the License, or (at your option) any later version.
 
 This software is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 Lesser General Public License for more details.
 
 You should have received a copy of the GNU Lesser General Public
 License along with this software; if not, write to the Free
 Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 02110-1301 USA, or see the FSF site: http://www.fsf.org.
-->
<div class="dashboard">
	<div class="dashboard-main-menu-bar">
		<div class="dashboard-main-menu-panel">
			<div class="dashboard-main-menu-item"><a class="dashboard-main-menu-item" href="#/user/account">Dashboard</a></div>
			<div class="dashboard-main-menu-item"><a class="dashboard-main-menu-item" href="#/user/account/phone-numbers/incoming">Numbers</a></div>
			<div class="dashboard-main-menu-item"><a class="dashboard-main-menu-item-selected">Logs</a></div>
			<div class="dashboard-main-menu-help"><a class="dashboard-main-menu-help" href="https://mobicents.ci.cloudbees.com/job/RestComm/lastSuccessfulBuild/artifact/restcomm.docs/jdocbook-mobicents/target/docbook/publish/en-US/html_single/index.html" target="_blank">Help</a></div>
			<div style="clear:both;margin-top:-1px;height:1px;overflow:hidden;"></div>
		</div>
	</div>
	<div class="dashboard-sub-menu-bar">
		<div class="dashboard-sub-menu-panel">
			<div class="dashboard-sub-menu-item"><a class="dashboard-sub-menu-item" href="#/user/account/log/calls">Calls</a></div>
			<div class="dashboard-sub-menu-item"><a class="dashboard-sub-menu-item" href="#/user/account/log/sms">SMS Messages</a></div>
			<div class="dashboard-sub-menu-item"><a class="dashboard-sub-menu-item-selected">Recordings</a></div>
			<div class="dashboard-sub-menu-item"><a class="dashboard-sub-menu-item" href="#/user/account/log/transcriptions">Transcriptions</a></div>
			<div class="dashboard-sub-menu-item"><a class="dashboard-sub-menu-item" href="#/user/account/log/notifications">Notifications</a></div>
			<div class="dashboard-sub-menu-item"><img id="dashboard-busy-indicator" src="images/spinner.gif" /></div>
			<div style="clear:both;margin-top:-1px;height:1px;overflow:hidden;"></div>
		</div>
	</div>
	<div class="dashboard-content">
	  <h1 class="dashboard-content-header">RECORDINGS</h1>
	  <div class="recording-grid-cell recording-grid-row-labels recording-date-column">Date</div>
	  <div class="recording-grid-cell recording-grid-row-labels recording-source-column">Source</div>
	  <div class="recording-grid-cell recording-grid-row-labels recording-duration-column">Duration</div>
	  <div class="recording-grid-cell recording-grid-row-labels recording-recording-column">Recording</div>
	  <div class="recording-grid-cell recording-grid-row-labels recording-call-details-column">Call Details</div>
	  <div style="clear:both;margin-top:-1px;height:1px;overflow:hidden;"></div>
	  <%
	  	for(var index = 0; index < recordings.length; index++) {
	  		var uri = recordings[index].get("uri");
   			var endOfString = uri.lastIndexOf(".");
   			uri = uri.substring(0, endOfString) + ".wav";
	  		if(index % 2 == 0) {
	  %>
	  	<div class="recording-grid-cell recording-grid-row-even recording-date-column"><%= recordings[index].get("date_created") %></div>
   		<div class="recording-grid-cell recording-grid-row-even recording-source-column">Record</div>
   		<div class="recording-grid-cell recording-grid-row-even recording-duration-column"><%= recordings[index].get("duration") %></div>
   		<div class="recording-grid-cell recording-grid-row-even recording-recording-column"><a class="recording-recording-column-even" href='<%= uri %>' target="_blank">Listen</a></div>
   		<div class="recording-grid-cell recording-grid-row-even recording-call-details-column"><a>Call Details</a></div>
   		<div style="clear:both;margin-top:-1px;height:1px;overflow:hidden;"></div>
   	  <%
   	    } else {
   	  %>
   		<div class="recording-grid-cell recording-grid-row-odd recording-date-column"><%= recordings[index].get("date_created") %></div>
   		<div class="recording-grid-cell recording-grid-row-odd recording-source-column">Record</div>
   		<div class="recording-grid-cell recording-grid-row-odd recording-duration-column"><%= recordings[index].get("duration") %></div>
   		<div class="recording-grid-cell recording-grid-row-odd recording-recording-column"><a class="recording-recording-column-odd" href='<%= uri %>' target="_blank">Listen</a></div>
   		<div class="recording-grid-cell recording-grid-row-odd recording-call-details-column"><a>Call Details</a></div>
   		<div style="clear:both;margin-top:-1px;height:1px;overflow:hidden;"></div>
  	  <% }} %>
	</div>
</div>